(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{515:function(s,a,e){"use strict";e.r(a);var n=e(32),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),e("ul",[e("li",[s._v("/dev/mapper/centos-root 占用100%导致Tab键用不了，而且docker微服务应用的验证码出不来")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# df -h")]),s._v("\nFilesystem               Size  Used Avail Use% Mounted on\ndevtmpfs                  63G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   63G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs                     63G   24K   63G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /dev/shm\ntmpfs                     63G  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".1G   62G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("% /run\ntmpfs                     63G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   63G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\n/dev/mapper/centos-root   50G   50G   20K "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /\n/dev/sda2               1014M  208M  807M  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("% /boot\n/dev/mapper/centos-home  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".5T  188G  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".4T   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("% /home\ntmpfs                     13G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   13G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/987\ntmpfs                     13G   64K   13G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /run/user/0\noverlay                   50G   50G   20K "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/bc5fc2456c87054300bc3d0e2e619e17078de019849e1bf19fba1edcd66bc6af/merged\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/e66aa9db52490a4ec4f39809c4bbf9212ede0059307e21856160515970c29be5/mounts/shm\noverlay                   50G   50G   20K "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/8f36525342c66b508369735032f3763712ef381da76a046173d718972b51fbdf/merged\noverlay                   50G   50G   20K "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/73c0bdf479c40526cdd1ab9f85ea0355fb7986ea4514e6925a2a954216f28bf0/merged\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/cfe748305f892a932337df13af27b0662acc1aa2cfa112bea4b37fe3d3e16027/mounts/shm\noverlay                   50G   50G   20K "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/8a45574efb09a4740a6ea31bf8a31acd0b49e7ab738934261ebaf61623ad98d0/merged\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/06c90561da84bc70c4fdb826a0f902ac3df0df19535a42f6f6052ddc92350a54/mounts/shm\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/30271ff7afc6c09a368dbf42b1567650013a1b56fba7991322187976296c738e/mounts/shm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("h2",{attrs:{id:"解决方式一（删）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方式一（删）"}},[s._v("#")]),s._v(" 解决方式一（删）")]),s._v(" "),e("ul",[e("li",[s._v("查找大文件，对于过高目录中的内容适当删减腾出一些空间")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 /"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# du -h -x --max-depth=1")]),s._v("\n59M\t./etc\n123M\t./root\ndu: cannot access ‘./var/lib/rsyslog/imjournal.state.tmp’: No such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n40G\t./var\n82M\t./tmp\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".4G\t./usr\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t./media\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t./mnt\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".3G\t./opt\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t./srv\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\t./Users\n50G\t"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 /"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd opt")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 opt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\ntotal "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("203480")]),s._v("\ndrwxrwxr-x  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" smartmining smartmining       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("229")]),s._v(" Jun "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" kibana-6.3.1-linux-x86_64\n-rw-r--r--   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root        root        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("205397076")]),s._v(" Oct "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":25 kibana-6.3.1-linux-x86_64.tar.gz\n-rw-r--r--   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root        root          "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2965388")]),s._v(" Sep "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":19 mysql-connector-odbc-8.0.15-1.el7.x86_64.rpm\ndrwxr-xr-x   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root        root               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" Sep "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":56 prometheus\ndrwxr-xr-x.  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root        root                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" Oct "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" rh\ndrwxr-xr-x   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" root        root               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" Aug "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":31 tableau\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 opt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# du -sh *")]),s._v("\n748M\tkibana-6.3.1-linux-x86_64\n196M\tkibana-6.3.1-linux-x86_64.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".9M\tmysql-connector-odbc-8.0.15-1.el7.x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(".0K\tprometheus\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\trh\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".4G\ttableau\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br")])]),e("ul",[e("li",[s._v("这里删除")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 opt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm -rf kibana-6.3.1-linux-x86_64.tar.gz")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@new1 opt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# df -h")]),s._v("\nFilesystem               Size  Used Avail Use% Mounted on\ndevtmpfs                  63G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   63G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs                     63G   24K   63G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /dev/shm\ntmpfs                     63G  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".2G   62G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("% /run\ntmpfs                     63G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   63G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\n/dev/mapper/centos-root   50G   50G  159M "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /\n/dev/sda2               1014M  208M  807M  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("% /boot\n/dev/mapper/centos-home  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".5T  188G  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".4T   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("% /home\ntmpfs                     13G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   13G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/987\ntmpfs                     13G   64K   13G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /run/user/0\noverlay                   50G   50G  159M "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/bc5fc2456c87054300bc3d0e2e619e17078de019849e1bf19fba1edcd66bc6af/merged\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/e66aa9db52490a4ec4f39809c4bbf9212ede0059307e21856160515970c29be5/mounts/shm\noverlay                   50G   50G  159M "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/8f36525342c66b508369735032f3763712ef381da76a046173d718972b51fbdf/merged\noverlay                   50G   50G  159M "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/73c0bdf479c40526cdd1ab9f85ea0355fb7986ea4514e6925a2a954216f28bf0/merged\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/cfe748305f892a932337df13af27b0662acc1aa2cfa112bea4b37fe3d3e16027/mounts/shm\noverlay                   50G   50G  159M "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /var/lib/docker/overlay2/8a45574efb09a4740a6ea31bf8a31acd0b49e7ab738934261ebaf61623ad98d0/merged\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/06c90561da84bc70c4fdb826a0f902ac3df0df19535a42f6f6052ddc92350a54/mounts/shm\nshm                       64M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   64M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /var/lib/docker/containers/30271ff7afc6c09a368dbf42b1567650013a1b56fba7991322187976296c738e/mounts/shm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br")])]),e("h2",{attrs:{id:"解决方式二（扩容）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方式二（扩容）"}},[s._v("#")]),s._v(" 解决方式二（扩容）")]),s._v(" "),e("p",[s._v("CentOS 7 调整 home分区扩大 root分区")]),s._v(" "),e("blockquote",[e("p",[s._v("总体过程：把/home内容备份，然后将/home文件系统所在的逻辑卷删除，扩大/root文件系统，新建/home ，恢复/home内容")])]),s._v(" "),e("ol",[e("li",[s._v("查看分区")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("备份home分区文件")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" cvf /tmp/home.tar/home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("卸载/home，如果无法卸载，先终止使用/home文件系统的进程")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("fuser")]),s._v(" -km /home/\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("umount")]),s._v(" /home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("删除/home所在的lv")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("lvremove/dev/mapper/centos-home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("扩展/root所在的lv，增加800G")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("lvextend -L +800G/dev/mapper/centos-root\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"6"}},[e("li",[s._v("扩展/root文件系统")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("xfs_growfs/dev/mapper/centos-root\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"7"}},[e("li",[s._v("重新创建home lv")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("lvcreate -L 73G -n/dev/mapper/centos-home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"8"}},[e("li",[s._v("创建文件系统")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mkfs.xfs  /dev/mapper/centos-home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"9"}},[e("li",[s._v("挂载home")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mount/dev/mapper/centos-home\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ol",{attrs:{start:"10"}},[e("li",[s._v("home文件恢复")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf /tmp/home.tar -C/home/\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/home/\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" * "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);