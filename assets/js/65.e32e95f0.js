(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{545:function(s,e,a){"use strict";a.r(e);var t=a(32),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-创建文件目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建文件目录"}},[s._v("#")]),s._v(" 1.创建文件目录")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p /docker/redis/data")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p /docker/redis/conf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这里我copy了一份redis-5.0.8/redis.conf")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp /home/summer/redis-5.0.8/redis.conf /docker/redis/conf/")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("修改默认配置文件")])]),s._v(" "),a("ul",[a("li",[s._v("bind 127.0.0.1 #注释掉这部分，这是限制redis只能本地访问")]),s._v(" "),a("li",[s._v("protected-mode no #默认yes，开启保护模式，限制为本地访问")]),s._v(" "),a("li",[s._v("daemonize no#默认no，改为yes意为以守护进程方式启动，可后台运行，除非kill进程（可选），改为yes会使配置文件方式启动redis失败")]),s._v(" "),a("li",[s._v("dir ./ #输入本地redis数据库存放文件夹（可选）")]),s._v(" "),a("li",[s._v("appendonly yes #redis持久化（可选）")])]),s._v(" "),a("h2",{attrs:{id:"_2-pull镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-pull镜像"}},[s._v("#")]),s._v(" 2.pull镜像")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull redis:5.0.8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".8: Pulling from library/redis\n123275d6e508: Pull complete \nf2edbd6a658e: Pull complete \n66960bede47c: Pull complete \n533694cb3638: Pull complete \n1dc100dcb2f1: Pull complete \n9ca9ac709269: Pull complete \nDigest: sha256:96bdb5e2984b15e3cf4de74077f650c911cb26ec0981e0772df35a1a5cb19798\nStatus: Downloaded newer image "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" redis:5.0.8\ndocker.io/library/redis:5.0.8\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY                                      TAG                 IMAGE ID            CREATED             SIZE\nredis                                           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".8               975fe4b9f798        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" months ago        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v(".3MB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h2",{attrs:{id:"_3-创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建容器"}},[s._v("#")]),s._v(" 3.创建容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run --name summer-redis -p 6666:6379 -v /docker/redis/data:/data -v /docker/redis/conf/redis.conf:/etc/redis/redis.conf -d redis:5.0.8 redis-server /etc/redis/redis.conf --appendonly yes")]),s._v("\n9dfcbc6fc9e087cd291554753ddd467655cfc4971c0f2c6adb5926a3e808f368\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_4-验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-验证"}},[s._v("#")]),s._v(" 4.验证")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@summer conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps ")]),s._v("\nCONTAINER ID        IMAGE              COMMAND                  CREATED             STATUS              PORTS                           NAMES\n9dfcbc6fc9e0        redis:5.0.8        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker-entrypoint.s…"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v(" seconds ago      Up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" seconds       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:6666-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("/tcp       summer-redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/summerking1/image@main/97.png",alt:""}})])])}),[],!1,null,null,null);e.default=n.exports}}]);