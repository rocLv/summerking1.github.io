(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{517:function(a,s,e){"use strict";e.r(s);var t=e(32),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"原因"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[a._v("#")]),a._v(" 原因")]),a._v(" "),e("p",[a._v("spring boot项目，使用jar方式打包部署;有时候我们需要替换项目中某个引用jar，又不想将整个项目重新打包。")]),a._v(" "),e("h2",{attrs:{id:"问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[a._v("#")]),a._v(" 问题")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("通过一般方式，用好压等压缩软件直接打开jar包，如果直接替换.class、.html、.yml格式的文件，可正常替换成功并生效。\n")])])]),e("p",[a._v("但是替换jar包中引用的jar包，用这样的方式是不可以的，在替换完成后启动项目，会报以下错误：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("Caused by: java.lang.IllegalStateException: Unable to "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v(" nested entry "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'BOOT-INF/lib/**.jar'")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" \nIt has been compressed and nested jar files must be stored without compression.\n Please check the mechanism used to create your executable jar "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h2",{attrs:{id:"解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[a._v("#")]),a._v(" 解决")]),a._v(" "),e("p",[a._v("可通过jar命令先将jar包解压，在解压目录中将引用jar包替换后，再重新压缩，命令如下（注意替换**为自己实际jar包名称）")]),a._v(" "),e("ul",[e("li",[a._v("解压：")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("jar -xvf ."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("**.jar\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("替换引用jar,替换完成后重新压缩打包：")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("jar -cfM0 **.jar ./\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);